# 千屹文件列表

## 项目简介
千屹文件列表是一个基于 Node.js 和 Express 的现代化文件列表服务。它提供了美观的 Web 界面来浏览文件夹结构，支持视频在线播放，并提供了网格视图和列表视图两种显示模式。

## 功能特性
- 🗂️ **文件浏览**：递归读取指定目录下的文件树
- 🎥 **视频播放**：支持在线播放视频文件（MP4、WebM、OGG）
- 📱 **响应式设计**：适配不同屏幕尺寸
- 🪟 **双视图模式**：支持网格视图和列表视图切换
- 📁 **路径导航**：面包屑导航，方便快速跳转
- ⬬ **文件下载**：支持直接下载文件
- 🎨 **毛玻璃效果**：现代化的视觉设计

## 视图模式说明

### 列表视图（默认）
- 文件和文件夹以列表形式显示
- 图标在左侧，文件名在右侧
- 适合查看详细信息和快速浏览

### 网格视图
- 文件和文件夹以网格形式显示
- 图标在上方，文件名在下方
- 文件名超出范围时显示省略号
- 适合图标化浏览和视觉展示

## 使用方法

### 1. 安装依赖
确保已安装 [Node.js](https://nodejs.org/)，然后在项目目录下运行以下命令安装依赖：
```bash
npm install
```

### 2. 准备文件
在项目目录下创建 `public/files` 文件夹，并将需要展示的文件放入其中：
```
qyFileList/
├── public/
│   └── files/          # 存放需要展示的文件
│       ├── 视频/
│       ├── 文档/
│       └── 其他文件...
```

### 3. 启动服务
运行以下命令启动服务：
```bash
npm start
```
或者
```bash
node server.js
```
服务将运行在 `http://localhost:3000`。

### 4. 访问界面
打开浏览器访问 `http://localhost:3000/index.html` 即可使用文件列表功能。

## API 接口

### 文件树 API
获取文件树的 JSON 数据：
```
GET /api/files?path=<相对路径>
```

### 静态文件服务
直接访问文件：
```
GET /files/<文件路径>
```

## 界面操作

- **📋/🪟 切换视图**：点击右上角按钮在列表视图和网格视图间切换
- **🏠 首页导航**：点击面包屑导航快速返回上级目录
- **📁 文件夹浏览**：点击文件夹图标进入子目录
- **🎥 视频播放**：点击视频文件在线播放
- **⬬ 文件下载**：点击非视频文件直接下载

## 支持的文件格式

### 视频文件（在线播放）
- MP4
- WebM
- OGG

### 其他文件（直接下载）
- 所有其他格式文件均支持下载

## 项目结构
```
qyFileList/
├── public/
│   ├── css/
│   │   └── styles.css      # 主样式文件
│   ├── js/
│   │   └── script.js       # 主脚本文件
│   ├── files/              # 文件存储目录
│   ├── index.html          # 主页面
│   └── video.html          # 视频播放页面
├── server.js               # 主服务文件
├── package.json            # 项目配置
└── README.md              # 项目说明文件
```

## 技术栈
- **后端**：Node.js + Express
- **前端**：原生 HTML/CSS/JavaScript
- **视频播放器**：Plyr.js
- **样式**：CSS3（毛玻璃效果、网格布局、响应式设计）

## 配置说明
- 默认端口：3000（可通过环境变量 `PORT` 修改）
- 文件目录：`public/files`（在 server.js 中可修改）
- 支持的视频格式可在 server.js 中的正则表达式修改

## 注意事项
- 确保 `public/files` 文件夹存在，否则文件树 API 将无法正常工作
- 视频文件建议使用 MP4 格式以获得最佳兼容性
- 大文件下载时建议使用支持断点续传的下载工具

## 许可证
本项目使用 MIT 许可证。

## 作者
严千屹 - [https://qianyios.top](https://qianyios.top)
